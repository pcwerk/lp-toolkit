{"ast":null,"code":"// Format function modified from nodejs\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n0 && (module.exports = {\n  formatUrl: null,\n  urlObjectKeys: null,\n  formatWithValidation: null\n});\nfunction _export(target, all) {\n  for (var name in all) Object.defineProperty(target, name, {\n    enumerable: true,\n    get: all[name]\n  });\n}\n_export(exports, {\n  formatUrl: function () {\n    return formatUrl;\n  },\n  urlObjectKeys: function () {\n    return urlObjectKeys;\n  },\n  formatWithValidation: function () {\n    return formatWithValidation;\n  }\n});\nconst _interop_require_wildcard = require(\"@swc/helpers/_/_interop_require_wildcard\");\nconst _querystring = /*#__PURE__*/_interop_require_wildcard._(require(\"./querystring\"));\nconst slashedProtocols = /https?|ftp|gopher|file/;\nfunction formatUrl(urlObj) {\n  let {\n    auth,\n    hostname\n  } = urlObj;\n  let protocol = urlObj.protocol || \"\";\n  let pathname = urlObj.pathname || \"\";\n  let hash = urlObj.hash || \"\";\n  let query = urlObj.query || \"\";\n  let host = false;\n  auth = auth ? encodeURIComponent(auth).replace(/%3A/i, \":\") + \"@\" : \"\";\n  if (urlObj.host) {\n    host = auth + urlObj.host;\n  } else if (hostname) {\n    host = auth + (~hostname.indexOf(\":\") ? \"[\" + hostname + \"]\" : hostname);\n    if (urlObj.port) {\n      host += \":\" + urlObj.port;\n    }\n  }\n  if (query && typeof query === \"object\") {\n    query = String(_querystring.urlQueryToSearchParams(query));\n  }\n  let search = urlObj.search || query && \"?\" + query || \"\";\n  if (protocol && !protocol.endsWith(\":\")) protocol += \":\";\n  if (urlObj.slashes || (!protocol || slashedProtocols.test(protocol)) && host !== false) {\n    host = \"//\" + (host || \"\");\n    if (pathname && pathname[0] !== \"/\") pathname = \"/\" + pathname;\n  } else if (!host) {\n    host = \"\";\n  }\n  if (hash && hash[0] !== \"#\") hash = \"#\" + hash;\n  if (search && search[0] !== \"?\") search = \"?\" + search;\n  pathname = pathname.replace(/[?#]/g, encodeURIComponent);\n  search = search.replace(\"#\", \"%23\");\n  return \"\" + protocol + host + pathname + search + hash;\n}\nconst urlObjectKeys = [\"auth\", \"hash\", \"host\", \"hostname\", \"href\", \"path\", \"pathname\", \"port\", \"protocol\", \"query\", \"search\", \"slashes\"];\nfunction formatWithValidation(url) {\n  if (process.env.NODE_ENV === \"development\") {\n    if (url !== null && typeof url === \"object\") {\n      Object.keys(url).forEach(key => {\n        if (!urlObjectKeys.includes(key)) {\n          console.warn(\"Unknown key passed via urlObject into url.format: \" + key);\n        }\n      });\n    }\n  }\n  return formatUrl(url);\n}","map":{"version":3,"names":["formatUrl","urlObjectKeys","formatWithValidation","slashedProtocols","urlObj","auth","hostname","protocol","pathname","hash","query","host","encodeURIComponent","replace","indexOf","port","String","_querystring","urlQueryToSearchParams","search","endsWith","slashes","test","url","process","env","NODE_ENV","Object","keys","forEach","key","includes","console","warn"],"sources":["../../../../../src/shared/lib/router/utils/format-url.ts"],"sourcesContent":[null],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;EAQgBA,SAAS,WAAAA,CAAA;WAATA,SAAA;;EA8CHC,aAAa,WAAAA,CAAA;WAAbA,aAAA;;EAeGC,oBAAoB,WAAAA,CAAA;WAApBA,oBAAA;;;;sEAjEa;AAE7B,MAAMC,gBAAA,GAAmB;AAElB,SAASH,UAAUI,MAAiB,EAAE;EAC3C,IAAI;IAAEC,IAAA;IAAMC;EAAQ,CAAE,GAAGF,MAAA;EACzB,IAAIG,QAAA,GAAWH,MAAA,CAAOG,QAAQ,IAAI;EAClC,IAAIC,QAAA,GAAWJ,MAAA,CAAOI,QAAQ,IAAI;EAClC,IAAIC,IAAA,GAAOL,MAAA,CAAOK,IAAI,IAAI;EAC1B,IAAIC,KAAA,GAAQN,MAAA,CAAOM,KAAK,IAAI;EAC5B,IAAIC,IAAA,GAAuB,KAAK;EAEhCN,IAAA,GAAOA,IAAA,GAAOO,kBAAA,CAAmBP,IAAA,EAAMQ,OAAO,CAAC,QAAQ,OAAO,MAAM,EAAE;EAEtE,IAAIT,MAAA,CAAOO,IAAI,EAAE;IACfA,IAAA,GAAON,IAAA,GAAOD,MAAA,CAAOO,IAAI;EAC3B,OAAO,IAAIL,QAAA,EAAU;IACnBK,IAAA,GAAON,IAAA,IAAQ,CAACC,QAAA,CAASQ,OAAO,CAAC,OAAO,GAAC,GAAGR,QAAA,GAAS,MAAKA,QAAQ,CAAD;IACjE,IAAIF,MAAA,CAAOW,IAAI,EAAE;MACfJ,IAAA,IAAQ,MAAMP,MAAA,CAAOW,IAAI;IAC3B;EACF;EAEA,IAAIL,KAAA,IAAS,OAAOA,KAAA,KAAU,UAAU;IACtCA,KAAA,GAAQM,MAAA,CAAOC,YAAA,CAAYC,sBAAsB,CAACR,KAAA;EACpD;EAEA,IAAIS,MAAA,GAASf,MAAA,CAAOe,MAAM,IAAKT,KAAA,IAAS,GAAC,GAAGA,KAAA,IAAY;EAExD,IAAIH,QAAA,IAAY,CAACA,QAAA,CAASa,QAAQ,CAAC,MAAMb,QAAA,IAAY;EAErD,IACEH,MAAA,CAAOiB,OAAO,IACb,CAAC,CAACd,QAAA,IAAYJ,gBAAA,CAAiBmB,IAAI,CAACf,QAAA,CAAQ,KAAMI,IAAA,KAAS,KAAK,EACjE;IACAA,IAAA,GAAO,QAAQA,IAAA,IAAQ,EAAC;IACxB,IAAIH,QAAA,IAAYA,QAAQ,CAAC,EAAE,KAAK,KAAKA,QAAA,GAAW,MAAMA,QAAA;EACxD,OAAO,IAAI,CAACG,IAAA,EAAM;IAChBA,IAAA,GAAO;EACT;EAEA,IAAIF,IAAA,IAAQA,IAAI,CAAC,EAAE,KAAK,KAAKA,IAAA,GAAO,MAAMA,IAAA;EAC1C,IAAIU,MAAA,IAAUA,MAAM,CAAC,EAAE,KAAK,KAAKA,MAAA,GAAS,MAAMA,MAAA;EAEhDX,QAAA,GAAWA,QAAA,CAASK,OAAO,CAAC,SAASD,kBAAA;EACrCO,MAAA,GAASA,MAAA,CAAON,OAAO,CAAC,KAAK;EAE7B,OAAO,EAAC,GAAEN,QAAA,GAAWI,IAAA,GAAOH,QAAA,GAAWW,MAAA,GAASV,IAAA;AAClD;AAEO,MAAMR,aAAA,GAAgB,CAC3B,QACA,QACA,QACA,YACA,QACA,QACA,YACA,QACA,YACA,SACA,UACA,UACD;AAEM,SAASC,qBAAqBqB,GAAc,EAAU;EAC3D,IAAIC,OAAA,CAAQC,GAAG,CAACC,QAAQ,KAAK,eAAe;IAC1C,IAAIH,GAAA,KAAQ,IAAI,IAAI,OAAOA,GAAA,KAAQ,UAAU;MAC3CI,MAAA,CAAOC,IAAI,CAACL,GAAA,EAAKM,OAAO,CAAEC,GAAA,IAAQ;QAChC,IAAI,CAAC7B,aAAA,CAAc8B,QAAQ,CAACD,GAAA,GAAM;UAChCE,OAAA,CAAQC,IAAI,CACV,oDAAC,GAAoDH,GAAA;QAEzD;MACF;IACF;EACF;EAEA,OAAO9B,SAAA,CAAUuB,GAAA;AACnB"},"metadata":{},"sourceType":"script","externalDependencies":[]}